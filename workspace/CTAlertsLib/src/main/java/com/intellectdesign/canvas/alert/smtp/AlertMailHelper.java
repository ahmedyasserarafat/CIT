/** * Copyright 2014. Intellect Design Arena Limited. All rights reserved.  *  * These materials are confidential and proprietary to Intellect Design Arena  * Limited and no part of these materials should be reproduced, published, transmitted * or distributed in any form or by any means, electronic, mechanical, photocopying,  * recording or otherwise, or stored in any information storage or retrieval system  * of any nature nor should the materials be disclosed to third parties or used in any  * other manner for which this is not authorized, without the prior express written  * authorization of Intellect Design Arena Limited. *  */package com.intellectdesign.canvas.alert.smtp;import java.util.ArrayList;import java.util.List;import com.intellectdesign.canvas.alert.handler.AlertConstants;import com.intellectdesign.canvas.database.CanvasDatabaseRequest;import com.intellectdesign.canvas.database.DatabaseConstants;import com.intellectdesign.canvas.database.DatabaseException;import com.intellectdesign.canvas.database.DatabaseRequest;import com.intellectdesign.canvas.database.DatabaseResult;import com.intellectdesign.canvas.logger.Logger;/** * This class provides the Receipient Details such as User No, GCIF and the Email ID from DB. *  * @version 1.0 */public class AlertMailHelper{	private static Logger logger = Logger.getLogger(AlertMailHelper.class);	/**	 * This method fetches the recipient details such as User No, GCIF and the Email for the given list of User Nos	 * 	 * @param listUserId - List object that contains the User Nos 	 * @return listRecipients - List object that contains the User Nos, GCIF and the Email Id	 * 	 * @throws DatabaseException	 */	public List getRecipientsDetail(ArrayList listUserId) throws DatabaseException	{		DatabaseRequest databaseRequest = null;		DatabaseResult databaseResult = null;		List listRecipients = null;		logger.ctinfo("CTALT00961", "getRecipientsDetail");		try		{			databaseRequest = new CanvasDatabaseRequest();			databaseRequest.setDataAccessMapKey(AlertConstants.ALERT_FRMWRK_DAM_KEY);			databaseRequest.setOperation(DatabaseConstants.SELECT);			databaseRequest.setOperationExtension(AlertConstants.ALERT_EMAIL_GET_RECIPIENT_DTLS);			databaseRequest.addFilter(AlertConstants.USER_ID, listUserId);			databaseResult = databaseRequest.execute();			listRecipients = databaseResult.getReturnedList();			logger.ctdebug("CTALT00459", listRecipients);		} catch (DatabaseException dbEx)		{			logger.ctdebug("CTALT00460", dbEx);			logger.cterror("CTALT00461", dbEx, listUserId);			throw dbEx;		}		logger.ctdebug("CTALT00459", listRecipients);		logger.ctinfo("CTALT00462");		return listRecipients;	}}